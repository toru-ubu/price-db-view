
<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>価格推移DB - 一覧</title>
<style>
body { font-family: sans-serif; }
input[type="text"] {
  width: 100%;
  padding: 8px;
  font-size: 16px;
  margin: 12px 0;
  box-sizing: border-box;
}

.table-container {
  overflow-x: auto;
  width: 100%;
}

table { border-collapse: collapse; width: 100%; min-width: 900px; }
th, td { border: 1px solid #ddd; padding: 8px; text-align: center; }
th { background-color: #f2f2f2; cursor: pointer; position: relative; }
.sorted { background-color: #d0e0ff !important; }
.sort-icon { font-size: 10px; color: #aaa; margin-left: 4px; }
th.sorted .sort-icon { color: #000; font-weight: bold; }
a { color: #1a0dab; text-decoration: none; }

@media (max-width: 768px) {
  table { font-size: 14px; }
  th, td { padding: 4px; }
}
</style>
</head>
<body>

<h1>価格推移DB（2025-06-26 時点）</h1>

<input type="text" id="searchBox" placeholder="商品名・CPU・GPUなどで検索...">

<div class="table-container">
<table id="productTable">
<thead>
<tr>
<th onclick="sortTable(0)">商品名</th>
<th onclick="sortTable(1)">通常価格<span class="sort-icon">▲▼</span></th>
<th onclick="sortTable(2)">現在価格<span class="sort-icon">▲▼</span></th>
<th onclick="sortTable(3)">ポイント還元<span class="sort-icon">▲▼</span></th>
<th onclick="sortTable(4)">実質価格<span class="sort-icon">▲▼</span></th>
<th onclick="sortTable(5)">割引率<span class="sort-icon">▲▼</span></th>
<th>買い時？</th>
<th>CPU</th>
<th>GPU</th>
<th>メモリ</th>
<th>ストレージ</th>
</tr>
</thead>
<tbody>

<tr>
<td><a href="https://www.dospara.co.jp/TC143/MC15968.html" target="_blank">GALLERIA RL7C-R35-5N 『Minecraft: Java & Bedrock Edition for PC、PC Game Pass同梱版』</a></td>
<td>104,980円</td>
<td>104,980円</td>
<td>0pt</td>
<td>104,980円</td>
<td>0.0%</td>
<td>😐通常価格</td>
<td>Core i7-13620H</td>
<td>GeForce RTX 3050 6GB Laptop GPU</td>
<td>16GBメモリ</td>
<td>500GB SSD</td>
</tr>

<tr>
<td><a href="https://www.dospara.co.jp/TC143/MC15814.html" target="_blank">GALLERIA RL7C-R46-5N 『Minecraft: Java ＆ Bedrock Edition for PC、PC Game Pass同梱版』</a></td>
<td>159,980円</td>
<td>159,980円</td>
<td>0pt</td>
<td>159,980円</td>
<td>0.0%</td>
<td>😐通常価格</td>
<td>Core i7-13620H</td>
<td>GeForce RTX 4060 8GB LaptopGPU</td>
<td>16GBメモリ</td>
<td>500GB SSD</td>
</tr>

<tr>
<td><a href="https://www.dospara.co.jp/TC30/MC16791.html" target="_blank">GALLERIA RM7C-R46 『Minecraft: Java ＆ Bedrock Edition for PC、PC Game Pass同梱版』</a></td>
<td>184,980円</td>
<td>184,980円</td>
<td>10000pt</td>
<td>174,980円</td>
<td>0.0%</td>
<td>😐通常価格</td>
<td>Core i7-14700F</td>
<td>GeForce RTX 4060 8GB</td>
<td>16GBメモリ DDR5</td>
<td>500GB Gen4 SSD</td>
</tr>

</tbody>
</table>
</div>

<script>
document.getElementById("searchBox").addEventListener("input", function () {
  var filter = this.value.toLowerCase();
  var rows = document.querySelectorAll("#productTable tbody tr");
  rows.forEach(function (row) {
    var name = row.cells[0].textContent.toLowerCase();
    var cpu = row.cells[7].textContent.toLowerCase();
    var gpu = row.cells[8].textContent.toLowerCase();
    row.style.display = name.includes(filter) || cpu.includes(filter) || gpu.includes(filter) ? "" : "none";
  });
});

let currentSortedCol = null;
let currentSortDir = "asc";

function sortTable(colIndex) {
  const table = document.getElementById("productTable");
  const tbody = table.querySelector("tbody");
  const rows = Array.from(tbody.querySelectorAll("tr"));
  const isNumeric = colIndex >= 1 && colIndex <= 5;

  if (currentSortedCol === colIndex) {
    currentSortDir = currentSortDir === "asc" ? "desc" : "asc";
  } else {
    currentSortedCol = colIndex;
    currentSortDir = "asc";
  }

  table.querySelectorAll("th").forEach((th, idx) => {
    th.classList.remove("sorted");
    if (idx === colIndex) th.classList.add("sorted");
  });

  rows.sort((a, b) => {
    const aText = a.cells[colIndex].textContent.replace(/[^\d.-]/g, "");
    const bText = b.cells[colIndex].textContent.replace(/[^\d.-]/g, "");
    const aVal = isNumeric ? parseFloat(aText) || 0 : aText;
    const bVal = isNumeric ? parseFloat(bText) || 0 : bText;
    return currentSortDir === "asc" ? aVal - bVal : bVal - aVal;
  });

  rows.forEach(row => tbody.appendChild(row));
}
</script>

</body>
</html>
